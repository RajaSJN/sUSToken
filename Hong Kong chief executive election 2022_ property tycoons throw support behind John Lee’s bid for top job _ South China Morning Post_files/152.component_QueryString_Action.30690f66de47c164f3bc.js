(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{6:function(e,t){},D3zA:function(e,t,n){"use strict";var i=n("aI7X");e.exports=Function.prototype.bind||i},FpZJ:function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},UVaH:function(e,t,n){"use strict";(function(t){var i=t.Symbol,a=n("FpZJ");e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&a())))}}).call(this,n("yLpj"))},aI7X:function(e,t,n){"use strict";var i="Function.prototype.bind called on incompatible ",a=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||r.call(t)!==o)throw new TypeError(i+t);for(var n,l=a.call(arguments,1),u=function(){if(this instanceof n){var i=t.apply(this,l.concat(a.call(arguments)));return Object(i)===i?i:this}return t.apply(e,l.concat(a.call(arguments)))},c=Math.max(0,t.length-l.length),s=[],d=0;d<c;d++)s.push("$"+d);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var m=function(){};m.prototype=t.prototype,n.prototype=new m,m.prototype=null}return n}},fJVF:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getSectionsByEntityIds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entityId"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"entityId"},value:{kind:"Variable",name:{kind:"Name",value:"entityId"}}}]}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entityId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entityUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advertZone"},arguments:[{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"IntValue",value:"2"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlAlias"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relatedNewsletterIds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relatedNewsletters"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entityId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alternativeName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"TEXT"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"metatags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uri"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"size_1200x800"},name:{kind:"Name",value:"style"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"style"},value:{kind:"StringValue",value:"1200x800",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"size_768x768"},name:{kind:"Name",value:"style"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"style"},value:{kind:"StringValue",value:"768x768",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:680}};n.loc.source={body:'query getSectionsByEntityIds($entityId: [String]!, $limit: Int!) {\n  sections(filter: {entityId: $entityId}, limit: $limit) {\n    entityId\n    entityUuid\n    name\n    advertZone(version: 2)\n    description\n    urlAlias\n    relatedNewsletterIds\n    relatedNewsletters {\n      entityId\n      name\n      alternativeName\n      summary(format: TEXT)\n    }\n    metatags {\n      key\n      value\n    }\n    images {\n      title\n      uri\n      url\n      width\n      height\n      size_1200x800: style(filter: {style: "1200x800"}) { # 3:2 (article level 5)\n        url\n      }\n      size_768x768: style(filter: {style: "768x768"}) { # for portrait\n        url\n      }\n      type\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.getSectionsByEntityIds=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,l=new Set;for(i.forEach((function(e){l.add(e)}));l.size>0;){var u=l;l=new Set,u.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){l.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getSectionsByEntityIds")},oNNP:function(e,t,n){"use strict";var i=n("D3zA");e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},rGhd:function(e,t,n){"use strict";n.r(t);var i,a=n("grO+"),r=n("3RiK"),o=n.n(r),l=n("fJVF"),u=n.n(l),c=n("03i6"),s=n.n(c),d=n("cgv7"),m=n.n(d),f=n("aLSA"),p=n("AWkh"),v=n("AgSJ"),y=n("mIqV"),k=n("Z0cm"),b=n.n(k),h=n("bNQv"),g=n.n(h),N=n("J2m7"),w=n.n(N),O=n("mwIZ"),S=n.n(O),F=n("Puqe"),j=n.n(F),I=n("E+oP"),$=n.n(I),x=n("Qyje"),A=n.n(x),E=n("YKMj"),_=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},V=function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function l(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,l)}u((i=i.apply(e,t||[])).next())}))},q=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userFollowList=null,t}return _(t,e),t.prototype.mounted=function(){var e=this,t=window.location.search,n=(t=A.a.parse(t.substring(t.indexOf("?")+1))).acquisitionCampaign;g()(t.action,(function(i,a){switch(a){case"bookmark":e.autoBookmarkAction(e.$apollo,i,!!t.utm_source);break;case"follow":var r=e.$cookies.get("register_email");$()(r)?$()(n)?e.autoFollowAction(e.$apollo,i,!!t.utm_source):e.autoFollowAction(e.$apollo,i,!!t.utm_source,n):e.$router.replace({path:e.$route.path,query:{}})}}))},t.prototype.autoFollowAction=function(e,t,n,i){var r=this,l=this.$cookies.isKey("scmp_user");g()(t,(function(c,d){var m;switch(b()(c)||(c=[c]),d){case a.Fb.AUTHOR:m=o.a;break;case a.Fb.SECTION:m=u.a;break;case a.Fb.TOPIC:m=s.a}if(e.query({client:a.Qb,query:m,variables:{entityId:c,limit:10,applicationId:a.D.SCMP,latestContentsLimit:10}}).then((function(e){return e.data[d+"s"]})).then((function(e){g()(c,(function(a){if(!l)return Object(y.g)(r.$apollo,Object(f.b)(t,n,e[0].name)),!1;Object(f.a)(r.$apollo,r.userFollowList,a,d,S()(w()(e,(function(e){return e.entityId===a})),"name",""),i)}))})).catch((function(e){v.c("[autoFollowAction][Get data error]",e)})),!l)return!1;$()(i)?r.$router.replace({path:r.$route.path,query:j()(r.$route.query,"action[follow]["+d+"]")}):r.$router.replace({path:r.$route.path,query:j()(r.$route.query,["action[follow]["+d+"]","acquisitionCampaign"])})}))},t.prototype.autoBookmarkAction=function(e,t,n){return V(this,void 0,void 0,(function(){var i,a,r;return q(this,(function(o){switch(o.label){case 0:if(b()(t)||(t=[t]),!this.$cookies.isKey("scmp_user"))return Object(y.g)(this.$apollo,Object(p.d)(t,n)),[2,!1];o.label=1;case 1:return o.trys.push([1,6,,7]),i=[],[4,Object(p.a)()];case 2:return o.sent()?[4,Object(p.b)()]:[3,4];case 3:return a=o.sent(),i=S()(a,"data.userBookmarkList",[]),Object(p.h)(i),Object(p.g)(this.$apollo,i),[3,5];case 4:i=Object(p.c)(),Object(p.g)(this.$apollo,i),o.label=5;case 5:return g()(t,(function(t){Object(p.j)(e,t,!0,!1,i)})),this.$router.replace({path:this.$route.path,query:j()(this.$route.query,"action[bookmark]")}),[3,7];case 6:return r=o.sent(),v.c("[autoBookmarkAction][Get data error]",r),[3,7];case 7:return[2]}}))}))},t=P([Object(E.a)({apollo:{userFollowList:{query:m.a}}})],t)}(E.d),D=n("KHd+"),L=Object(D.a)(T,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null);t.default=L.exports}}]);