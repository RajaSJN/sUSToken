(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{"0IHr":function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{width:"26",height:"26",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.081 26l-1.084-1.148 11.068-11.087H0v-1.53l23.07.001L11.997 1.092 13.08 0 26 13 13.081 26z",fill:"#4585FF"}})])}}},B17h:function(e,t,n){"use strict";n("a/Vc")},"a/Vc":function(e,t,n){},pTPJ:function(e,t,n){"use strict";n.r(t);var i,a=n("YKMj"),r=n("afOK"),o=n.n(r),l=n("mwIZ"),c=n.n(l),d=n("uoTU"),s=n.n(d),u=n("E+oP"),m=n.n(u),p=n("Wt1U"),f=n.n(p),y=n("grO+"),h=n("w4l+"),v=n.n(h),b=n("CycN"),k=n.n(b),g=n("FJa5"),w=n("KIz9"),I=n.n(w),O=n("GebX"),S=n("SCp/"),_=n("ERJl"),N=n("0IHr"),E=n.n(N),R=n("AgSJ"),A=n("7iOZ"),C=n("fpBe"),j=n("wbY3"),F=n("u2We"),V=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),L=function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},H=function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function l(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,l)}c((i=i.apply(e,t||[])).next())}))},P=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.paywall=g.b,t.userInfo=O.b,t.articleRecommendation=null,t.isShowRecommendFallbackNews=!1,t.recommendFallbackHardnewsEntityIds=f()(["3146188","3135883","3135886","3128562","3142519","3142188","3130109","3144997","3139603","3141253","3144709","3133145","3144921","3135510","3136092","3136835","3139744","3139347","3145723","3134774","3145468","3146427","3145437","3144318","3143647","3143580","3134187","3146575","3145792","3145833","3141665","3132921","3145145","3135075","3140681","3130587","3141850","3128347","3140382","3146297","3136510","3140966","3132112","3128167","3146280","3146363","3145244","3132514","3141649","3139888","3129412","3131432","3146102","3133061","3145790"],t.entityId),t.recommendFallbackHardnewsEntityId=t.recommendFallbackHardnewsEntityIds[Math.floor(Math.random()*t.recommendFallbackHardnewsEntityIds.length)],t.recommendFallbackSoftnewsEntityIds=f()(["3132869","3133728","3141337","3143781","3140110","3133900","3143608","3132883","3135636","3139848","3144720","3144772","3144639","3144770","3144920","3144835","3144923","3143899","3135358","3134285","3138546","3136787","3145299","3143017","3139318","3139842","3138746","3139175","3134753","3144327","3141254","3138118","3143878","3139449","3132192","3138538","3138787","3142095","3130891","3146271","3145972","3133611","3139742","3142829","3145438","3142511","3146113"],t.entityId),t.recommendFallbackSoftnewsEntityId=t.recommendFallbackSoftnewsEntityIds[Math.floor(Math.random()*t.recommendFallbackSoftnewsEntityIds.length)],t.recommendEntityId="",t.isShowRecommendation=!1,t.queryString={module:"archive_wall_widget",pgtype:"article"},t}return V(t,e),Object.defineProperty(t.prototype,"isArchiveWall",{get:function(){return-1!==s()(c()(this.paywall,"archiveWallArticleList"),this.entityId)},enumerable:!0,configurable:!0}),t.prototype.onChangeIsArchiveWall=function(e){return H(this,void 0,void 0,(function(){return P(this,(function(t){return e&&this.handleGoogleOptimize(),[2]}))}))},t.prototype.onChangeIsShowRecommendation=function(e){return H(this,void 0,void 0,(function(){var t,n,i,a;return P(this,(function(r){switch(r.label){case 0:if(!e)return[3,5];t=c()(this.paywall,"viewsLeft")||0,n=t>0,i=[],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Object(A.f)(this.userUuid,this.entityId,n)];case 2:return i=r.sent(),[3,4];case 3:return a=r.sent(),R.a(a),[3,4];case 4:m()(i)?(this.isShowRecommendFallbackNews=!0,this.recommendEntityId=this.getIsCurrentArticleHardNews?this.recommendFallbackHardnewsEntityId:this.recommendFallbackSoftnewsEntityId):(this.isShowRecommendFallbackNews=!1,this.recommendEntityId=o()(i)||""),r.label=5;case 5:return[2]}}))}))},Object.defineProperty(t.prototype,"articleRecommendationEntityUuid",{get:function(){return c()(this.articleRecommendation,"entityUuid")||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"articleRecommendationEntityId",{get:function(){return c()(this.articleRecommendation,"entityId")||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"articleRecommendationHeadline",{get:function(){return c()(this.articleRecommendation,"socialHeadline")||c()(this.articleRecommendation,"headline")||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"articleRecommendationImgSrc",{get:function(){return c()(this.articleRecommendation,"images.0.size_237x147.url")||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentArticleSectionEntityIds",{get:function(){return Object(F.h)(this.sections,"entityId")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getIsCurrentArticleHardNews",{get:function(){return Object(F.i)(this.currentArticleSectionEntityIds)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"articleRecommendationUrlAlias",{get:function(){return c()(this.articleRecommendation,"urlAlias")||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userUuid",{get:function(){return c()(this.userInfo,"uuid")||""},enumerable:!0,configurable:!0}),t.prototype.onClickLink=function(){Object(j.d)({category:y.rb.ACHIVE_WALL_RECOMMENDATION,action:this.isShowRecommendFallbackNews?y.qb.ACHIVE_WALL_RECOMMENDATION_CLICK_FALLBACK:y.qb.ACHIVE_WALL_RECOMMENDATION_CLICK,label:this.articleRecommendationUrlAlias})},t.prototype.onGoogleOptimizeConfigConfigChange=function(){this.isArchiveWall&&this.handleGoogleOptimize()},t.prototype.handleGoogleOptimize=function(){var e=this;"undefined"!=typeof window&&(window.dataLayer||[]).push({event:"optimize.fireArchiveWallRecommendation"});this.requestExperimentVariant({experimentKey:"ARCHIVE_WALL_RECOMMENDATION",onSuccess:function(t){e.isShowRecommendation="1"===t}})},t.prototype.onVisibilityChanged=function(e){e&&Object(j.d)({category:y.rb.ACHIVE_WALL_RECOMMENDATION,action:y.qb.ACHIVE_WALL_RECOMMENDATION_IMPRESSION,label:this.articleRecommendationUrlAlias})},L([Object(a.c)({required:!0,default:""}),x("design:type",String)],t.prototype,"entityId",void 0),L([Object(a.c)(),x("design:type",Array)],t.prototype,"sections",void 0),L([Object(a.e)("isArchiveWall"),x("design:type",Function),x("design:paramtypes",[Object]),x("design:returntype",Promise)],t.prototype,"onChangeIsArchiveWall",null),L([Object(a.e)("isShowRecommendation"),x("design:type",Function),x("design:paramtypes",[Object]),x("design:returntype",Promise)],t.prototype,"onChangeIsShowRecommendation",null),L([Object(a.e)("googleOptimizeConfig"),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",void 0)],t.prototype,"onGoogleOptimizeConfigConfigChange",null),t=L([Object(a.a)({apollo:{paywall:{query:k.a,result:function(e){var t=e.data;this.paywall=Object(C.a)(this.paywall,t.paywall)},manual:!0},userInfo:{query:I.a},articleRecommendation:{client:y.Qb,query:v.a,manual:!0,result:function(e){var t=e.data;this.articleRecommendation=Object(C.a)(this.articleRecommendation,t.content)},variables:function(){return{entityId:this.recommendEntityId,applicationId:y.D.SCMP}},prefetch:!1,skip:function(){return"undefined"==typeof window||m()(this.recommendEntityId)}}},components:{IconArrow:E.a,RouterLinkCustom:_.a},mixins:[S.a]})],t)}(a.d),W=(n("B17h"),n("KHd+")),U=Object(W.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isArchiveWall&&e.isShowRecommendation?n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.onVisibilityChanged,intersection:{threshold:.5}},expression:"{\n    callback: onVisibilityChanged,\n    intersection: { threshold: 0.5 },\n  }"}],staticClass:"paywall-recommend-article"},[n("div",{staticClass:"paywall-recommend-article__top-border"}),e._v(" "),e._m(0),e._v(" "),n("router-link-custom",{staticClass:"paywall-recommend-article__main-wrapper",attrs:{to:e.articleRecommendationUrlAlias,queryString:e.queryString,id:e.articleRecommendationEntityUuid,entityId:e.articleRecommendationEntityId,type:"Article"},nativeOn:{click:function(t){return e.onClickLink(t)}}},[n("img",{staticClass:"paywall-recommend-article__image",attrs:{src:e.articleRecommendationImgSrc}}),e._v(" "),n("div",{staticClass:"paywall-recommend-article__title"},[e._v(e._s(e.articleRecommendationHeadline))]),e._v(" "),n("icon-arrow",{staticClass:"paywall-recommend-article__icon"})],1)],1):e._e()}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"paywall-recommend-article__text-wrapper"},[n("div",{staticClass:"paywall-recommend-article__text-title"},[e._v("Not ready to subscribe?")]),e._v(" "),n("div",{staticClass:"paywall-recommend-article__text-subtitle"},[e._v("Read this free article on")])])}],!1,null,"82b06c1e",null);t.default=U.exports},"w4l+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"archiveWallRecommendation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entityUuid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entityId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"applicationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"EnumValue",value:"Article"}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"entityUuid"},value:{kind:"Variable",name:{kind:"Name",value:"entityUuid"}}},{kind:"ObjectField",name:{kind:"Name",value:"entityId"},value:{kind:"Variable",name:{kind:"Name",value:"entityId"}}},{kind:"ObjectField",name:{kind:"Name",value:"applicationId"},value:{kind:"Variable",name:{kind:"Name",value:"applicationId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Article"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entityId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entityUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headline"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialHeadline"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlAlias"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"size_237x147"},name:{kind:"Name",value:"style"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"style"},value:{kind:"StringValue",value:"237x147",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:453}};n.loc.source={body:'\nquery archiveWallRecommendation($entityUuid: String, $entityId: String, $applicationId: String!) {\n  content(contentType:Article, filter:{entityUuid: $entityUuid, entityId: $entityId, applicationId: $applicationId}) {\n    ... on Article {\n      entityId\n      entityUuid\n      headline\n      socialHeadline\n      urlAlias\n      images {\n        title\n        size_237x147: style(filter: {style: "237x147"}) {\n          url\n        }\n      }\n    }\n  }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.archiveWallRecommendation=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,l=new Set;for(i.forEach((function(e){l.add(e)}));l.size>0;){var c=l;l=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){l.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"archiveWallRecommendation")}}]);